<html>
<meta charset="ISO-8859-1">  
<head>
<title>Journey Details</title>
</head>
<body style="background-color:grey;">
<form action="DOB.html" >
<center>
<br /><br /><br />
<h1>Journey Details</h1>
<label>Journey Date</label>
<input type="date" id="bookDate" placeholder="yyyy-mm--dd" onchange="journeyDate()" required>
<br />
<br />
<label> Journey Time  </label>
<input type ="time" id= "bookTime" placeholder="hh:mm:ss" onchange="bTime()" required>
<br />
<br />
<label> Pickup Address</label>
<input type="text" id=padd placeholder="Address for pickup" onchange="pickUpAddress()" required >
<br />
<br />
<label> Destination Address</label>
<input type="text" id=dadd placeholder="Destination address" onchange="destinationAddress()" required>
<br />

<br />
<label for= "cars">Select your choice</label>
<select id= "cars" name="cars" onselect="wish()" required>
<option value="choose">Choose one</option>
<option value="mini">Mini ---> Rs.10 per Km</option>
<option value="micro">Micro ---> Rs.15 per Km</option>
<option value="prime">Prime ---> Rs.20 per Km</option>
<br />
</select>
<br />
<br />
<label>Enter the number of Km you want to travel</label>
<input type="number" id="km" placeholder="No of Km" oninput="distance()" required>
<br />
<br />
<p>Please select your Gender</p>
<input type="radio" id="gender" name="gender" value="Male">
<label for="male">Male</label>
<input type="radio" id="gender" name="gender" value="Female">
<label for="female">Female</label>
<input type="radio" id="gender" name="gender" value="Other">
<label for="other" >Other</label>
<br />
<br />
<p id= "l1"></p>  
<br />
<br />
<button type="submit">Next</button>
</center>
</form>
<script>
    let dadd=document.getElementById("dadd").value;
    function bTime(){
        let time=document.getElementById("bookTime").value;
        let bookingHours= parseInt(time.substr(0,2));
        if(bookingHours>18 && bookingHours<20){
            document.getElementById("l1").innerHTML="You're choosen Peak hours";
        }
        else{
            document.getElementById("l1").innerHTML="You're choosen Normal hours"; 
        }
        
    }
    function journeyDate(){
            let jdate=document.getElementById("bookDate").value;
            let bookingDate= new Date(jdate);
            let tdate= new Date();
            if(bookingDate>tdate){
            }
            else{
                alert("Can't book for past days");
                event.preventDefault();
            }
        }
      //  function wish(){
          //  let choice=document.getElementById("cars").value;
       // }
        function distance(){
            let kiloMetre=document.getElementById("km").value;
            let carChoice=document.getElementById("cars").value;
            let z=0;
            let gst = 0;
             // OTHER THAN PEAK HOURS
            switch (carChoice) {
			case "mini": {
			     z = kiloMetre * 10;// CALCULATING RS FOR CERTAIN Km
				gst = z + (z * 0.07);// ADDING 7% GST TO BILL AMOUNT
				break;}
			case "micro": {
				z = kiloMetre * 15;
				gst = z + (z * 0.07);
                break;}
			case "prime": {
				z = kiloMetre * 20;
				gst = z + (z * 0.07);
                break;
            }
			default:
            }
            localStorage.setItem("rupee",z);
            localStorage.setItem("gstrupee",gst);
            let amt=0;
            let time=document.getElementById("bookTime").value;
            let bookingHours= parseInt(time.substr(0,2));
            if(bookingHours>18 && bookingHours<21){
                amt= gst + (gst * 0.125);
                //document.getElementById("l2").innerHTML=amt;
           }
           else{
            //document.getElementById("l2").innerHTML=gst;
           }
           localStorage.setItem("peakRupee",amt);
    }


        function pickUpAddress(){
         let padd=document.getElementById("padd").value;
        if(padd.length < 10)
                {
                    alert("Please enter sufficient details in Pickup address");
                    event.preventDefault();
                }
                else{

                }
            }
        function destinationAddress(){
        if(dadd.length < 10)
                {
                    alert("Please enter sufficient details in Destination address");
                    event.preventDefault();
                }  
                else{

                }   
            }          
       

</script>
</body>
</html>
